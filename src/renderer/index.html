<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval' blob:; worker-src 'self' blob:; style-src 'self' 'unsafe-inline'; font-src 'self' data:; img-src 'self' data: local-image:;">
  <title>NotepadClone</title>
</head>
<body>
  <div id="app">
    <!-- Toolbar -->
    <div id="toolbar" class="toolbar">
      <button class="toolbar-btn" data-action="new" title="New (Ctrl+N)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 1.5H3.5a1 1 0 00-1 1v11a1 1 0 001 1h9a1 1 0 001-1V6L9 1.5z"/><polyline points="9,1.5 9,6 13.5,6"/></svg></span>
      </button>
      <button class="toolbar-btn" data-action="new-diagram" title="New Diagram">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1.5" y="1.5" width="4" height="3" rx="0.5"/><rect x="10.5" y="5.5" width="4" height="3" rx="0.5"/><rect x="1.5" y="11.5" width="4" height="3" rx="0.5"/><line x1="5.5" y1="3" x2="10.5" y2="7"/><line x1="5.5" y1="13" x2="10.5" y2="7"/></svg></span>
      </button>
      <button class="toolbar-btn" data-action="new-spreadsheet" title="New Spreadsheet">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1.5" y="2" width="13" height="12" rx="1"/><line x1="1.5" y1="5.5" x2="14.5" y2="5.5"/><line x1="1.5" y1="9" x2="14.5" y2="9"/><line x1="5.5" y1="5.5" x2="5.5" y2="14"/><line x1="10.5" y1="5.5" x2="10.5" y2="14"/><line x1="12" y1="2.5" x2="12" y2="5"/><line x1="10.5" y1="3.75" x2="13.5" y2="3.75"/></svg></span>
      </button>
      <button class="toolbar-btn" data-action="open" title="Open (Ctrl+O)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 13.5V4a1 1 0 011-1h3.5l1.5 1.5H13a1 1 0 011 1v1"/><path d="M1.5 13.5l1.5-5h11l-1.5 5H1.5z"/></svg></span>
      </button>
      <button class="toolbar-btn" data-action="save" title="Save (Ctrl+S)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12.5 14.5h-9a1 1 0 01-1-1v-11a1 1 0 011-1h7l3 3v9a1 1 0 01-1 1z"/><rect x="5" y="1.5" width="5" height="4"/><rect x="4.5" y="9" width="7" height="5.5"/></svg></span>
      </button>
      <span class="toolbar-separator"></span>
      <button class="toolbar-btn" data-action="undo" title="Undo (Ctrl+Z)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h7a3.5 3.5 0 010 7H8"/><polyline points="6,3 3,6 6,9"/></svg></span>
      </button>
      <button class="toolbar-btn" data-action="redo" title="Redo (Ctrl+Y)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M13 6H6a3.5 3.5 0 000 7h2"/><polyline points="10,3 13,6 10,9"/></svg></span>
      </button>
      <span class="toolbar-separator"></span>
      <button class="toolbar-btn" data-action="find" title="Find (Ctrl+F)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="6.5" cy="6.5" r="4"/><line x1="14" y1="14" x2="9.8" y2="9.8"/></svg></span>
      </button>
      <button class="toolbar-btn" data-action="replace" title="Replace (Ctrl+H)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="5" r="3"/><line x1="7.1" y1="7.1" x2="9" y2="9"/><circle cx="11" cy="11" r="3"/><line x1="9" y1="5" x2="12" y2="5"/><polyline points="11,3.5 12.5,5 11,6.5"/></svg></span>
      </button>
      <span class="toolbar-separator"></span>
      <button class="toolbar-btn" data-action="word-wrap" title="Toggle Word Wrap">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="2" y1="3.5" x2="14" y2="3.5"/><path d="M2 8h9.5a2 2 0 010 4H9"/><polyline points="10.5,10.5 9,12 10.5,13.5"/><line x1="2" y1="12.5" x2="6" y2="12.5"/></svg></span>
      </button>
      <button class="toolbar-btn" data-action="column-select" id="btn-column-select" title="Column Selection Mode (Alt+Shift+C)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="2" width="8" height="12" rx="0.5" stroke-dasharray="2,2"/><line x1="6" y1="5" x2="6" y2="11"/><line x1="10" y1="5" x2="10" y2="11"/><line x1="6" y1="5" x2="10" y2="5"/><line x1="6" y1="11" x2="10" y2="11"/></svg></span>
      </button>
      <span class="toolbar-separator"></span>
      <span id="git-status-indicator" class="toolbar-git-indicator" title="Git status">
        <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16"><circle cx="8" cy="3.5" r="2"/><circle cx="8" cy="12.5" r="2"/><line x1="8" y1="5.5" x2="8" y2="10.5"/></svg>
      </span>
      <button class="toolbar-btn git-btn" id="git-init-btn" data-action="git-init" title="Initialize Git Repository" style="display:none">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="10" height="10" rx="1"/><line x1="8" y1="6" x2="8" y2="10"/><line x1="6" y1="8" x2="10" y2="8"/></svg></span>
      </button>
      <button class="toolbar-btn git-btn" id="git-stage-btn" data-action="git-stage" title="Stage All Changes" style="display:none">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="6"/><line x1="8" y1="5.5" x2="8" y2="10.5"/><line x1="5.5" y1="8" x2="10.5" y2="8"/></svg></span>
      </button>
      <button class="toolbar-btn git-btn" id="git-stage-file-btn" data-action="git-stage-file" title="Stage Current File" style="display:none">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 1.5H3.5a1 1 0 00-1 1v11a1 1 0 001 1h9a1 1 0 001-1V6L9 1.5z"/><polyline points="9,1.5 9,6 13.5,6"/><line x1="8" y1="8.5" x2="8" y2="12.5"/><line x1="6" y1="10.5" x2="10" y2="10.5"/></svg></span>
      </button>
      <button class="toolbar-btn git-btn" id="git-commit-btn" data-action="git-commit" title="Commit" style="display:none">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="3,8 6.5,11.5 13,4.5"/></svg></span>
      </button>
      <button class="toolbar-btn git-btn" id="git-push-btn" data-action="git-push" title="Push" style="display:none">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="13" x2="8" y2="3"/><polyline points="4.5,6.5 8,3 11.5,6.5"/></svg></span>
      </button>
      <button class="toolbar-btn git-btn" id="git-pull-btn" data-action="git-pull" title="Pull" style="display:none">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="3" x2="8" y2="13"/><polyline points="4.5,9.5 8,13 11.5,9.5"/></svg></span>
      </button>
      <button class="toolbar-btn git-btn" id="git-history-btn" data-action="git-history" title="Git File History (Ctrl+Shift+H)" style="display:none">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="6"/><polyline points="8,4.5 8,8 10.5,9.5"/></svg></span>
      </button>
      <span class="toolbar-separator"></span>
      <button class="toolbar-btn" data-action="notes-toggle" id="btn-notes-toggle" title="Toggle Notes Panel (Ctrl+Shift+N)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="12" height="12" rx="1"/><line x1="5" y1="5.5" x2="11" y2="5.5"/><line x1="5" y1="8" x2="11" y2="8"/><line x1="5" y1="10.5" x2="9" y2="10.5"/></svg></span>
      </button>
      <span class="toolbar-separator"></span>
      <button class="toolbar-btn" data-action="sql-query" title="SQL Query (Ctrl+Shift+Q)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1.5" y="2" width="13" height="12" rx="1"/><line x1="1.5" y1="5.5" x2="14.5" y2="5.5"/><line x1="1.5" y1="9" x2="14.5" y2="9"/><line x1="5.5" y1="5.5" x2="5.5" y2="14"/><line x1="10.5" y1="5.5" x2="10.5" y2="14"/></svg></span>
      </button>
      <span class="toolbar-separator" id="md-separator" style="display:none"></span>
      <button class="toolbar-btn" data-action="markdown-toggle" id="btn-markdown-toggle" title="Toggle Read/Edit Mode (Ctrl+Shift+M)" style="display:none">
        <span class="toolbar-icon" id="md-toggle-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M1 3.5h14v10H1z"/><path d="M4 8.5l2 2 2-2"/><path d="M10 7v4"/><path d="M12 7v4"/><path d="M12 7l-1 2 1 2"/></svg></span>
      </button>
      <span class="toolbar-separator" id="tv-separator" style="display:none"></span>
      <button class="toolbar-btn" data-action="table-toggle" id="btn-table-toggle" title="Toggle Table/Editor View (Ctrl+Shift+T)" style="display:none">
        <span class="toolbar-icon" id="tv-toggle-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1.5" y="2" width="13" height="12" rx="1"/><line x1="1.5" y1="5.5" x2="14.5" y2="5.5"/><line x1="1.5" y1="9" x2="14.5" y2="9"/><line x1="5.5" y1="5.5" x2="5.5" y2="14"/><line x1="10.5" y1="5.5" x2="10.5" y2="14"/></svg></span>
      </button>
      <span class="toolbar-separator" id="ss-separator" style="display:none"></span>
      <button class="toolbar-btn" data-action="spreadsheet-toggle" id="btn-spreadsheet-toggle" title="Toggle Spreadsheet View" style="display:none">
        <span class="toolbar-icon" id="ss-toggle-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><text x="2" y="12" font-size="11" fill="currentColor" stroke="none" font-family="serif" font-style="italic">fx</text></svg></span>
      </button>
      <span class="toolbar-separator" id="tree-separator" style="display:none"></span>
      <button class="toolbar-btn" data-action="tree-toggle" id="btn-tree-toggle" title="Toggle Tree View (Ctrl+Shift+R)" style="display:none">
        <span class="toolbar-icon" id="tree-toggle-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="3" cy="3" r="1.5"/><circle cx="9" cy="6" r="1.5"/><circle cx="9" cy="10" r="1.5"/><circle cx="13" cy="13" r="1.5"/><line x1="4.2" y1="3.7" x2="7.8" y2="5.5"/><line x1="4.2" y1="3.7" x2="7.8" y2="9.5"/><line x1="10.2" y1="10.7" x2="11.8" y2="12.5"/></svg></span>
      </button>
      <span class="toolbar-separator" id="dv-separator" style="display:none"></span>
      <button class="toolbar-btn" data-action="diagram-toggle" id="btn-diagram-toggle" title="Toggle Split/Full Editor View" style="display:none">
        <span class="toolbar-icon" id="dv-toggle-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1.5" y="2" width="13" height="12" rx="1"/><line x1="8" y1="2" x2="8" y2="14"/></svg></span>
      </button>
      <button class="toolbar-btn" data-action="diagram-export" id="btn-diagram-export" title="Export Diagram as SVG" style="display:none">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 10v3h10v-3"/><line x1="8" y1="2" x2="8" y2="10"/><polyline points="5,7 8,10 11,7"/></svg></span>
      </button>
    </div>

    <!-- Markdown formatting toolbar -->
    <div id="markdown-format-toolbar" class="markdown-format-toolbar" style="display:none">
      <button class="mft-btn" data-md-action="bold" title="Bold (Ctrl+B)"><b>B</b></button>
      <button class="mft-btn" data-md-action="italic" title="Italic (Ctrl+I)"><i>I</i></button>
      <span class="toolbar-separator"></span>
      <button class="mft-btn" data-md-action="h1" title="Heading 1">H1</button>
      <button class="mft-btn" data-md-action="h2" title="Heading 2">H2</button>
      <span class="toolbar-separator"></span>
      <button class="mft-btn" data-md-action="ul" title="Bullet List">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><circle cx="3" cy="4" r="1" fill="currentColor" stroke="none"/><line x1="6" y1="4" x2="14" y2="4"/><circle cx="3" cy="8" r="1" fill="currentColor" stroke="none"/><line x1="6" y1="8" x2="14" y2="8"/><circle cx="3" cy="12" r="1" fill="currentColor" stroke="none"/><line x1="6" y1="12" x2="14" y2="12"/></svg></span>
      </button>
      <button class="mft-btn" data-md-action="ol" title="Numbered List">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><text x="1.5" y="5.5" font-size="5" fill="currentColor" stroke="none" font-family="sans-serif">1.</text><line x1="6" y1="4" x2="14" y2="4"/><text x="1.5" y="9.5" font-size="5" fill="currentColor" stroke="none" font-family="sans-serif">2.</text><line x1="6" y1="8" x2="14" y2="8"/><text x="1.5" y="13.5" font-size="5" fill="currentColor" stroke="none" font-family="sans-serif">3.</text><line x1="6" y1="12" x2="14" y2="12"/></svg></span>
      </button>
      <span class="toolbar-separator"></span>
      <button class="mft-btn" data-md-action="link" title="Insert Link (Ctrl+Shift+K)">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M6.5 9.5l3-3"/><path d="M9 7l1.5-1.5a2.12 2.12 0 000-3v0a2.12 2.12 0 00-3 0L6 4"/><path d="M7 9l-1.5 1.5a2.12 2.12 0 000 3v0a2.12 2.12 0 003 0L10 12"/></svg></span>
      </button>
      <button class="mft-btn" data-md-action="code" title="Inline Code">
        <span class="toolbar-icon"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="5,4 1.5,8 5,12"/><polyline points="11,4 14.5,8 11,12"/><line x1="9.5" y1="3" x2="6.5" y2="13"/></svg></span>
      </button>
    </div>

    <!-- Tab bar -->
    <div id="tab-bar" class="tab-bar">
      <!-- Tabs injected here -->
    </div>

    <!-- Main content area -->
    <div id="main-content" class="main-content">
      <!-- File Explorer -->
      <div id="file-explorer" class="file-explorer hidden"></div>
      <!-- Editor container -->
      <div id="editor-container" class="editor-container"></div>
      <!-- Notes Panel (right) -->
      <div id="notes-panel" class="notes-panel hidden"></div>
    </div>

    <!-- Find in Files panel -->
    <div id="find-in-files" class="find-in-files hidden"></div>

    <!-- SQL Query panel -->
    <div id="sql-query" class="sql-query hidden"></div>

    <!-- Status bar -->
    <div id="status-bar" class="status-bar">
      <span id="status-position" class="status-item">Ln 1, Col 1</span>
      <span id="status-selection" class="status-item"></span>
      <span id="status-git" class="status-item" style="display:none"></span>
      <span class="status-spacer"></span>
      <span id="status-encoding" class="status-item">UTF-8</span>
      <span id="status-line-ending" class="status-item">CRLF</span>
      <span id="status-selection-mode" class="status-item">Normal</span>
      <span id="status-language" class="status-item">Plain Text</span>
    </div>
  </div>
</body>
</html>
